# Title
Refactor: убрать status/deps из markdown

# Description
Переместить статус и зависимости из markdown файлов в index.json.

**Текущее состояние (tasks 4-7):**
- Parser парсит `# Status` и `# Dependencies`
- Add/List используют эти секции
- Index хранит только зависимости

**Целевое состояние (вариант A):**
- Index = единственный источник для status/deps
- Markdown = только Title, Description, custom fields
- Нет `# Status` и `# Dependencies` секций

## Changes

### Task 4 (Parser)

**Убрать из ParsedTask:**
```ts
// Было:
interface ParsedTask {
  status: string;
  dependencies: string[];
  ...
}

// Станет:
interface ParsedTask {
  title: string;
  description?: string;
  [key: string]: string | undefined;  // только custom fields
}
```

**Убрать из parse():**
- Парсинг `# Status` секции
- Парсинг `# Dependencies` секции
- Дефолтные значения для status/deps
- Валидацию dependency ID format

**Убрать из serialize():**
- Сериализацию `# Status` секции
- Сериализацию `# Dependencies` секции
- Dependencies из фиксированного порядка

### Task 5 (add)

**Убрать из workflow:**
- Передачу status/deps в parser.serialize()
- Генерацию `# Status` и `# Dependencies` в markdown

**Изменить:**
```ts
// Было:
const markdown = parser.serialize({
  title, description, status, dependencies, ...
});

// Станет:
const markdown = parser.serialize({
  title, description, ...customFields
});

await index.update(id, { status, dependencies });
```

### Task 6 (list)

**Изменить loadData:**
- Status и dependencies из index, не из parser
- Parser.parse() только для title/description/custom fields

```ts
// Было:
const parsed = parser.parse(markdown);
console.log(parsed.status, parsed.dependencies);

// Станет:
const parsed = parser.parse(markdown);  // только title/description
const indexData = await index.load();
console.log(indexData[id].status, indexData[id].dependencies);
```

**Убрать из JSON output:**
- Dependencies из parsed task (теперь из index)

### Task 7 (subtasks)

**Без изменений** — уже работает через index.update()

### Task 13 (Index) — уже готов

Index уже хранит status/deps, изменения не требуются.

### Task 12 (next) — уже готов

уже работает с index как источником.

## Migration

**Существующие markdown файлы:**
- Оставить как есть (содержат `# Status` и `# Dependencies`)
- Parser будет игнорировать эти секции
- Index станет источником истины

**Новые файлы:**
- Создаются без `# Status` и `# Dependencies`

**Optionally:** добавить команду `hod migrate` для очистки существующих markdown файлов от status/deps секций.

## Testing

Обновить тесты:
- Parser — убираются тесты Status/Dependencies
- Add — status/deps через index
- List — status/deps из index
- Next — без изменений

## DependsOn
13, 7, 6, 5, 4

# Priority
medium
